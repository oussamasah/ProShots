@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    Layout = "/Views/Shared/_DashLayout.cshtml";
    var medias = ViewData["Medias"] as IEnumerable<Media>;
    var events = ViewData["Events"] as IEnumerable<Event>;
    var tags = ViewData["Tags"] as IEnumerable<String>;
}
@section Styles{
    <style>
        .grid {
            width: 82%;
        }



            /* clear fix */
            .grid:after {
                content: '';
                display: block;
                clear: both;
            }

        /* ---- .grid-item ---- */

        .grid-item {
            float: left;
            width: 300px;
            height: 300px;
            background: #0D8;
            border: 2px solid #333;
            border-color: hsla(0, 0%, 0%, 0.7);
        }

        .grid-item--width2 {
            width: 400px;
        }

        .grid-item--height2 {
            height: 400px;
        }

        .Sidebar {
            width: 18%;
        }

        div#Gallery {
            max-height: 675px !important;
            overflow-x: hidden;
            overflow-y: scroll;
        }

            div#Gallery::-webkit-scrollbar {
                width: 2px;
            }

            /* Track */
            div#Gallery::-webkit-scrollbar-track {
                box-shadow: inset 0 0 5px grey;
                border-radius: 7px;
            }

            /* Handle */
            div#Gallery::-webkit-scrollbar-thumb {
                background: #b1b493;
                border-radius: 7px;
            }

                /* Handle on hover */
                div#Gallery::-webkit-scrollbar-thumb:hover {
                    background: #4F8A8B;
                }

        .Sidebar {
            height: 100%;
            border: 2px solid #b1b493;
            border-radius: 7px;
            margin-left: 5px;
        }

        .filter-title {
            font-size: 25px;
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
            padding-bottom: 5px;
            border-bottom: 1px solid gray;
        }

        .overlayItem {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
       opacity:0;
       transition:all 0.5s ease;
        }

        .overlayItem:hover {
                transition: all 0.5s ease;
  opacity:1;
                background: rgb(0 0 0 / 73%);
        }
    </style>
}


<div class="row">
    <div class="d-flex justify-content-between align-items-center">
        <h1 class="mt-3 mb-3">List Medias </h1>
        <a asp-controller="Gallery" asp-action="Add" class="btn btn-lg action"><i class="bi bi-plus-square-fill me-2"></i>Add New Gallery</a>
    </div>

    </hr>
    <div class="d-flex">
        <div id="Gallery" class="grid">
            @{
                var i = 0;
            }
            @foreach (var item in medias)
            {
                <div class="grid-item @(i % 3 == 0 ? "" : i % 3 == 1 ? "grid-item--width2" : "grid-item--height2")" style="background:url('/gallery/@item.Path" alt="@item.Title')"> <div class="overlayItem"><a class="btn " asp-controller="Gallery" asp-route-id="@item.Id" asp-action="Details">Details</a></div></div>




                i++;
            }
        </div>
        <div class="Sidebar p-3 ">
            <div class="Events Filter mb-5">
                <span class="filter-title">Events</span>
                <div class="d-flex justify-content-between align-items-center">
                    <div class="d-flex">
                        <input type="checkbox" class="form-check me-2" name="cat" id="cat" />
                        <label for="cat">Categorie 1</label>
                    </div>
                    <div class="action d-flex justify-content-between align-items-center">
                        <i class="bi bi-trash "></i>
                        <i class="bi bi-edit "></i>
                    </div>
                </div>
                @foreach (var item in events)
                {
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="d-flex">
                            <input type="checkbox" class="form-check me-2" value="@item.Id" name="cat[]" id="@item.Id" />
                            <label for="@item.Id" class="eventName">@item.Title</label>
                        </div>
                        <div class="action d-flex   justify-content-between align-items-center">
                            <i class="bi bi-trash "></i>
                            <i class="bi bi-editor "></i>
                        </div>
                    </div>
                }


            </div>
            <div class="Tags">
                <span class="filter-title">Tags Filter</span>

                @{
                    var index = 0;
                }
                @{
                    if (!tags.Any())
                    {
                        @foreach (var item in tags)
                        {
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="d-flex">
                                    <input type="checkbox" class="form-check me-2" value="@item" name="tag[]" id="@item" />
                                    <label for="@item" class="eventName">@item</label>
                                </div>
                                <div class="action d-flex   justify-content-between align-items-center">
                                    <i class="bi bi-trash "></i>
                                    <i class="bi bi-editor "></i>
                                </div>
                            </div>
                        }
                    }
                    else
                    {
                        <span>No tags available</span>
                    }
                }


            </div>
        </div>
    </div>

    @section Scripts{
        <script src="https://unpkg.com/isotope-layout@3/dist/isotope.pkgd.min.js"></script>
        <script>
            $('.grid').isotope({
                itemSelector: '.grid-item',
                masonry: {
                    columnWidth: 100
                }
            });
            $("input[name='cat']").on("change", function () {
                alert($("input[name='cat']").val())
            })
        </script>
    }
